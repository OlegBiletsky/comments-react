(this["webpackJsonpcomments-react"]=this["webpackJsonpcomments-react"]||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(8),r=a.n(c),s=a(4),o=a(6),i=(a(31),a(18)),u=(a(32),a(33),"GET_MORE_COMMENTS_REQUEST"),l="GET_MORE_COMMENTS_SUCCESS",m="GET_COMMENTS_FAIL",d="GET_PAGE_COMMENTS_REQUEST",p="GET_PAGE_COMMENTS_SUCCESS",j="CHANGE_INPUT_NAME",b="CHANGE_INPUT_TEXT",O="ADD_COMMENT_REQUEST",g="ADD_COMMENT_SUCCESS",f="ADD_COMMENT_FAIL",x=a(5),h=a.n(x),_=a(9),v=function(e){return fetch("https://jordan.ashton.fashion/api/goods/30/comments?page=".concat(e))},N=function(e){return fetch("https://jordan.ashton.fashion/api/goods/30/comments",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)})},C=function(e){return function(){var t=Object(_.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:u}),t.prev=1,t.next=4,v(a);case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,e({type:l,payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e({type:m,payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(_.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:d}),t.prev=1,t.next=4,v(a);case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,e({type:p,payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e({type:m,payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(_.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),e({type:O}),t.prev=2,t.next=5,N(a);case 5:return n=t.sent,t.next=8,n.json();case 8:c=t.sent,e({type:g,payload:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e({type:f,payload:t.t0});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},T=(a(35),a(15)),P=a(1);var L=function(e){var t=e.inputNameValue,a=e.inputTextValue,n=e.handleChangeNameInput,c=e.handleChangeTextInput,r=e.sendComments;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h1",{className:"title",children:[Object(P.jsx)("div",{className:"title__first",children:"Please leave a comment"}),Object(P.jsxs)("div",{className:"title__second",children:[Object(P.jsx)("p",{children:"Your feedback is appreciated"}),Object(P.jsx)(T.a,{className:"title__icon"})]})]}),Object(P.jsxs)("form",{className:"form",noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[Object(P.jsx)("div",{className:"form-name",children:Object(P.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Your name",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Name"},className:"form-name__field",name:"form-name__field",type:"text",autoComplete:"off"})}),Object(P.jsx)("div",{className:"form-text",children:Object(P.jsx)("textarea",{value:a,onChange:function(e){return c(e.target.value)},placeholder:"Add a comment",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Add a comment"},className:"form-text__field",name:"form-text__field",type:"text",autoComplete:"off"})}),Object(P.jsx)("button",{className:"form-submit-btn",type:"submit",onClick:function(e){return e.preventDefault(),r()},disabled:!1,children:Object(P.jsxs)("div",{className:"form-submit-btn__text-wrapper",children:[Object(P.jsx)("div",{className:"form-submit-btn__text",children:"Comment"}),Object(P.jsx)(T.b,{className:"form-submit-btn__icon"})]})})]})]})},M=Object(o.b)((function(e){return{inputNameValue:e.form.inputNameValue,inputTextValue:e.form.inputTextValue}}),(function(e){return{changeInputName:function(t){return e({type:j,payload:t})},changeInputText:function(t){return e({type:b,payload:t})},sendComments:E(e)}}))((function(e){var t=e.inputNameValue,a=e.inputTextValue,n=e.changeInputName,c=e.changeInputText,r=e.sendComments;return Object(P.jsx)(L,{inputNameValue:t,inputTextValue:a,handleChangeNameInput:n,handleChangeTextInput:c,sendComments:function(){return r(t,a)}})})),k=(a(37),a(19)),S=a(16);var w=function(e){var t=e.comments,a=void 0===t?[]:t;return Object(P.jsx)(P.Fragment,{children:a&&a.map((function(e){return Object(P.jsx)("div",{className:"comment-wrapper",children:Object(P.jsxs)("div",{className:"comment",children:[Object(P.jsxs)("div",{className:"comment-user",children:[Object(P.jsx)("div",{className:"comment-user__photo",children:Object(P.jsx)(k.a,{className:"comment-user__icon"})}),Object(P.jsxs)("div",{className:"comment-user__name",children:[Object(P.jsx)("p",{children:"guest:"}),e.name]}),Object(P.jsxs)("div",{className:"comment-user__time",children:[Object(P.jsxs)("div",{className:"comment-user__time1",children:[e.created_at&&Object(P.jsx)("span",{children:Object(P.jsx)(S.a,{})}),e.created_at&&e.created_at.split("T")[0]]}),Object(P.jsxs)("div",{className:"comment-user__time2",children:[Object(P.jsx)("span",{children:Object(P.jsx)(S.b,{})}),e.created_at?e.created_at.split("T")[1].slice(0,5):Object(P.jsx)("p",{children:"recently"})]})]})]}),Object(P.jsx)("div",{className:"comment-text",children:Object(P.jsx)("div",{className:"comment-text__message",children:e.text})})]})})}))})},V=(a(38),a(20)),I=function(e){var t=e.getMoreComments,a=e.lastPage,n=e.currentPage;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"more-btn-wrapper",children:a!==n&&Object(P.jsx)("button",{onClick:function(){t(n+1)},className:"more-btn",children:Object(P.jsxs)("div",{className:"more-btn-inner-wrapper",children:[Object(P.jsx)("div",{className:"more-btn__text",children:"Download more..."}),Object(P.jsx)(V.a,{className:"more-btn__icon"})]})})})})},A=function(e){return e.comments.comments.database},D=function(e){return e.comments.pages},G=function(e){return e.comments.lastPage},U=function(e){var t=D(e);return t[t.length-1]},F=function(e){return e.comments.separateCurrentPage},R=function(e){return e.comments.comments.isLoading},B=a(21),J=a.n(B),Q=(a(39),Object(o.b)((function(e){return{comments:A(e),pages:D(e),lastPage:G(e),currentPage:U(e),separateCurrentPage:F(e),loadingComments:R(e)}}),(function(e){return{getComments:y(e),getMoreComments:C(e)}}))((function(e){var t=e.loadingComments,a=e.comments,c=e.getComments,r=e.getMoreComments,s=(e.pages,e.lastPage),o=e.currentPage,i=e.separateCurrentPage;return console.log(t,"---loadingComments"),Object(n.useEffect)((function(){c(o)}),[]),Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{children:[Object(P.jsx)(w,{comments:a}),Object(P.jsx)(I,{lastPage:s,currentPage:o,getMoreComments:r}),Object(P.jsx)("div",{className:"pagination-wrapper",children:Object(P.jsx)(J.a,{containerClassName:"pagination-container",pageLinkClassName:"pageLinkClassName",activeLinkClassName:"activeLinkClassName",previousLinkClassName:"previousLinkClassName",nextLinkClassName:"nextLinkClassName",disabledClassName:"disabledClassName",breakLinkClassName:"breakLinkClassName",pageCount:s,pageRangeDisplayed:3,marginPagesDisplayed:1,previousLabel:"< Previous",nextLabel:"Next >",onPageChange:function(e){c(e.selected+1)},initialPage:o-1,forcePage:i-1})})]})})})));var X=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(M,{}),Object(P.jsx)(Q,{})]})},H=a(7),Y=a(3),q={comments:{isLoading:null,error:null,database:[]},separateCurrentPage:1,pages:[1],lastPage:null},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case d:return Object(Y.a)(Object(Y.a)({},e),{},{comments:Object(Y.a)(Object(Y.a)({},e.comments),{},{isLoading:!0,error:null})});case l:return Object(Y.a)(Object(Y.a)({},e),{},{comments:{isLoading:!1,error:!1,database:[].concat(Object(H.a)(e.comments.database),Object(H.a)(t.payload.data))},separateCurrentPage:t.payload.current_page,pages:[].concat(Object(H.a)(e.pages),[t.payload.current_page]),lastPage:t.payload.last_page});case p:return Object(Y.a)(Object(Y.a)({},e),{},{comments:{isLoading:!1,error:!1,database:t.payload.data},separateCurrentPage:t.payload.current_page,pages:[t.payload.current_page],lastPage:t.payload.last_page});case m:return Object(Y.a)(Object(Y.a)({},e),{},{comments:{isLoading:!1,error:t.payload,database:!1}});case O:return Object(Y.a)(Object(Y.a)({},e),{},{comments:Object(Y.a)(Object(Y.a)({},e.comments),{},{isLoading:!0,error:null})});case g:return Object(Y.a)(Object(Y.a)({},e),{},{comments:{isLoading:!1,error:!1,database:[t.payload.data].concat(Object(H.a)(e.comments.database))},separateCurrentPage:t.payload.current_page,pages:[].concat(Object(H.a)(e.pages),[t.payload.current_page]),lastPage:t.payload.last_page});case f:return Object(Y.a)(Object(Y.a)({},e),{},{comments:{isLoading:!1,error:t.payload,database:!1}});default:return e}},K={value:{inputNameValue:"",inputTextValue:""}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(Y.a)(Object(Y.a)({},e),{},{value:Object(Y.a)(Object(Y.a)({},e.value),{},{inputNameValue:t.payload})});case b:return Object(Y.a)(Object(Y.a)({},e),{},{value:Object(Y.a)(Object(Y.a)({},e.value),{},{inputTextValue:t.payload})});default:return e}},Z=Object(s.c)({comments:z,form:W}),$=[i.a];var ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,te=Object(s.e)(Z,ee(s.a.apply(void 0,$)));r.a.render(Object(P.jsx)(o.a,{store:te,children:Object(P.jsx)(X,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8e09f6be.chunk.js.map